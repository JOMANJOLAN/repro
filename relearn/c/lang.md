**C语言**

- [C语言精神](#c语言精神)
- [语言标准](#语言标准)
- [编程步骤](#编程步骤)
- [符号](#符号)
- [语句](#语句)
- [八进制和十六进制](#八进制和十六进制)
  - [表示](#表示)
  - [打印](#打印)
- [整数类型](#整数类型)
  - [打印](#打印-1)
  - [char](#char)
  - [可移植类型](#可移植类型)
- [浮点数](#浮点数)
  - [表示](#表示-1)
  - [类型](#类型)
  - [打印](#打印-2)
  - [特殊值](#特殊值)
- [复数和虚数](#复数和虚数)
- [类型大小](#类型大小)
- [刷新输出](#刷新输出)
- [printf](#printf)
  - [转换说明](#转换说明)
  - [修饰符](#修饰符)
  - [标记](#标记)
  - [返回值](#返回值)
- [scanf](#scanf)
  - [返回值](#返回值-1)
- [\*修饰符](#修饰符-1)
- [副作用和序列点](#副作用和序列点)

## C语言精神
* 信任程序员
* 不要妨碍程序员做需要做的事
* 保持语言精炼简单
* 只提供一种方法执行一项操作
* 让程序运行更快，即使不能保证其可移植性

## 语言标准
* 1978年，K&R C，经典C，定义了C语言，却没有定义C库
* 缺乏官方库，UNIX实现提供的库成为标准库
* ANSI C，C89；ISO C，C90；定义了C语言和C标准库
* C99，遵循C90的原则
  * 第一个目标：支持国际化编程
  * 第二个目标：“调整现有实践致力于解决明显的缺陷”
  * 为适应科学与工程项目中的关键数值计算，提高C的适应性
* C11，提出新的指导原则
  * 出于对当前编程安全的担忧，不那么强调“信任程序员”
  * 将之前的一些特性作为可选项，便于支持小型机与多处理器计算机

## 编程步骤
1. 定义程序的目标（语言无关）
2. 设计程序（语言无关）
3. 编写代码
4. 编译，可执行文件=目标文件+库函数+启动代码
5. 运行程序
6. 测试和调试程序
7. 维护和修改代码

## 符号
* 关键字
* 标识符
* 运算符
* 数据

## 语句
* 标号语句
* 复合语句
* 表达式语句
* 选择语句
* 迭代语句
* 跳转语句

## 八进制和十六进制

### 表示
* 八进制：020，033
* 十六进制：0x00，0X10

### 打印
* %d，%o，%x，%X
* 显示前缀：%#o，%#x，%#X

## 整数类型
* short可能比int小，long可能比int大
* 常见设置：
  * long long：64-bits
  * long：32-bits
  * short：16-bits
  * int：16/32-bits，根据自然字长而定
* 后缀l表示long，ll表示long long；ul，ull表示unsigned

### 打印
* %u：unsigned
* %ld，%lo，%lx：long
* %hd，%ho，%hx：short
* %lu：unsigned long
* %lld，%llu：long long

### char
* 永远占用一字节
* 字符常量：'A'，'t'，实际为int类型
* 转义字符
* 非打印字符
* 打印：%c
* 有无符号不确定
* '\0oo'，'\xhh'

### 可移植类型
* stdint.h
  * int32_t，自动匹配符合长度的类型，精确宽度，是可选项，系统可能不支持
  * 最小宽度类型：int_least8_t，可容纳8位有符号整数值的宽度最小的整数类型
  * 最小最快宽度类型：int_fast8_t，对8位有符号值运算最快的整数类型
  * intmax_t、uintmax_t：可存储任何有效的整数值
* inttypes.h
  * 字符串宏显示可移植类型：PRId32

## 浮点数

### 表示
* 数字
* 指数计数法：1.23e10
* 十六进制表示：0xa.1fp10

### 类型
* float
  * 至少表示6位数字
  * 取值至少[10^-37^, 10^+37^]
  * 3.14f
* double
  * 至少10位，实际至少13位
  * 3.14
* long double
  * 至少与double的精度相同
  * 3.14L

### 打印
* %f：float，double
* %e：科学计数法
* %a，%A：十六进制
* %Lf，%Le，%La：long double

### 特殊值
* 上溢：超出表示范围
* 下溢：损失精度
* 未定义：NaN，nan

## 复数和虚数
* float _Complex，double _Complex，long double _Complex
* float _Imaginary，double _Imaginary，long double _Imaginary
* complex.h：complex，_Complex；imaginary，_Imaginary

## 类型大小
* sizeof
* size_t
* %zd

## 刷新输出
* 缓冲区满
* 遇到换行字符
* 需要输入

## printf

### 转换说明
* %g，%G
* %p
* %s

### 修饰符
* hh：char的值
* j：intmax_t、uint_max_t
* t：ptrdiff_t
* z：size_t

### 标记
* -：左对齐
* +：正号/负号
* 空格：不加/负号
* #：加八进制/十六进制前缀0/0x
* 0：填充宽度

### 返回值
* 打印字符的数量
* 出错：负值

## scanf

### 返回值
* 成功读取的项数
* 检测到文件结尾返回EOF

## *修饰符
* printf：通过程序指定字段宽度
* scanf：跳过相应输入项

## 副作用和序列点
* 副作用：赋值是求赋值表达式的副作用
* 序列点：在这个点，所有副作用都在下一步之前发生
